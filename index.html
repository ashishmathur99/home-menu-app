<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The 360 Kitchen | Smart Menu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .glass { background: white; border: 1px solid #e2e8f0; border-radius: 1rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .tab-active { border-bottom: 3px solid #059669; color: #059669; }
    </style>
</head>
<body x-data="menuApp()">

    <nav class="bg-white border-b sticky top-0 z-50">
        <div class="max-w-5xl mx-auto px-4 flex justify-between items-center h-16">
            <h1 class="font-bold text-xl text-emerald-800">The 360 Kitchen</h1>
            <div class="flex space-x-6">
                <button @click="screen = 'menu'" :class="screen === 'menu' ? 'tab-active' : ''" class="py-5 font-medium transition">Weekly Menu</button>
                <button @click="screen = 'rules'" :class="screen === 'rules' ? 'tab-active' : ''" class="py-5 font-medium transition">House Rules</button>
            </div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto p-4 mt-4">
        
        <div x-show="screen === 'menu'" x-transition>
            <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
                <h2 class="text-2xl font-bold text-slate-800">Weekly Meal Plan</h2>
                <button @click="generateFullMenu()" class="bg-emerald-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-emerald-700 transition">
                    üîÑ Generate New Weekly Plan
                </button>
            </div>

            <div class="space-y-6">
                <template x-for="(plan, day) in weeklyPlan" :key="day">
                    <div class="glass p-5">
                        <h3 class="font-bold text-lg text-emerald-700 border-b pb-2 mb-4" x-text="day"></h3>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                            
                            <div class="relative group">
                                <p class="text-xs font-bold text-slate-400 uppercase">Breakfast / ‡§®‡§æ‡§∂‡•ç‡§§‡§æ</p>
                                <p class="text-slate-700 font-medium mt-1" x-text="plan.breakfast"></p>
                                <button @click="replaceItem(day, 'breakfast')" class="text-xs text-blue-500 mt-1 opacity-0 group-hover:opacity-100 transition">‚úé Edit</button>
                            </div>

                            <div class="relative group border-l-0 md:border-l pl-0 md:pl-4">
                                <p class="text-xs font-bold text-slate-400 uppercase">Lunch / ‡§¶‡•ã‡§™‡§π‡§∞ ‡§ï‡§æ ‡§≠‡•ã‡§ú‡§®</p>
                                <p class="text-slate-700 font-medium mt-1" x-text="plan.lunch"></p>
                                <button @click="replaceItem(day, 'lunch')" class="text-xs text-blue-500 mt-1 opacity-0 group-hover:opacity-100 transition">‚úé Edit</button>
                            </div>

                            <div class="relative group border-l-0 md:border-l pl-0 md:pl-4">
                                <p class="text-xs font-bold text-slate-400 uppercase">Snacks / ‡§ú‡§≤‡§™‡§æ‡§®</p>
                                <p class="text-slate-700 font-medium mt-1" x-text="plan.snacks"></p>
                                <button @click="replaceItem(day, 'snacks')" class="text-xs text-blue-500 mt-1 opacity-0 group-hover:opacity-100 transition">‚úé Edit</button>
                            </div>

                            <div class="relative group border-l-0 md:border-l pl-0 md:pl-4">
                                <p class="text-xs font-bold text-slate-400 uppercase">Dinner / ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø ‡§ï‡§æ ‡§≠‡•ã‡§ú‡§®</p>
                                <p class="text-slate-700 font-medium mt-1" x-text="plan.dinner"></p>
                                <button @click="replaceItem(day, 'dinner')" class="text-xs text-blue-500 mt-1 opacity-0 group-hover:opacity-100 transition">‚úé Edit</button>
                            </div>

                        </div>
                    </div>
                </template>
            </div>
        </div>

        <div x-show="screen === 'rules'" x-transition class="max-w-2xl mx-auto">
            <div class="glass p-8">
                <h2 class="text-2xl font-bold mb-6 text-slate-800">Kitchen Guidelines & House Rules</h2>
                <ul class="space-y-4 text-slate-600">
                    <li class="flex items-start">
                        <span class="bg-emerald-100 text-emerald-700 p-1 rounded mr-3 mt-1 font-bold text-xs">01</span>
                        <span><strong>Seasonal Flours:</strong> Dinner is paired with seasonal grains (Bajra in Winter, Jowar/Nachni in Summer).</span>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-emerald-100 text-emerald-700 p-1 rounded mr-3 mt-1 font-bold text-xs">02</span>
                        <span><strong>Probiotic Lunch:</strong> Every lunch must include a Curd or Raita variation for digestion.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-emerald-100 text-emerald-700 p-1 rounded mr-3 mt-1 font-bold text-xs">03</span>
                        <span><strong>No Waste:</strong> Leftover gravy from dinner can be converted into a breakfast paratha stuffing next day.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-emerald-100 text-emerald-700 p-1 rounded mr-3 mt-1 font-bold text-xs">04</span>
                        <span><strong>Vegetarian Protein:</strong> Focus on dals, paneer, and sprouts daily.</span>
                    </li>
                </ul>
                <div class="mt-8 p-4 bg-amber-50 rounded-lg border border-amber-200">
                    <p class="text-sm text-amber-800"><strong>Note:</strong> You can edit any meal on the menu screen by hovering over the item and clicking "Edit".</p>
                </div>
            </div>
        </div>

    </main>

    <script>
        function menuApp() {
            const data = {
                breakfast: ["Poha (‡§™‡•ã‡§π‡§æ)", "Stuffed Paratha (‡§≠‡§∞‡§µ‡§æ‡§Ç ‡§™‡§∞‡§æ‡§†‡§æ)", "Idli Sambhar (‡§á‡§°‡§≤‡•Ä ‡§∏‡§æ‡§Ç‡§≠‡§∞)", "Upma (‡§â‡§™‡§Æ‡§æ)", "Besan Chilla (‡§¨‡•á‡§∏‡§® ‡§ö‡•Ä‡§≤‡§æ)", "Moong Dal Sprouts (‡§Æ‡•Ç‡§Ç‡§ó ‡§¶‡§æ‡§≤ ‡§∏‡•ç‡§™‡•ç‡§∞‡§æ‡§â‡§ü‡•ç‡§∏)"],
                lunch_main: ["Aloo Gobi (‡§Ü‡§≤‡•Ç ‡§ó‡•ã‡§≠‡•Ä)", "Bhindi Masala (‡§≠‡§ø‡§Ç‡§°‡•Ä ‡§Æ‡§∏‡§æ‡§≤‡§æ)", "Lauki Kofta (‡§≤‡•å‡§ï‡•Ä ‡§ï‡•ã‡§´‡•ç‡§§‡§æ)", "Panchratna Dal (‡§™‡§Ç‡§ö‡§∞‡§§‡•ç‡§® ‡§¶‡§æ‡§≤)", "Jeera Aloo (‡§ú‡•Ä‡§∞‡§æ ‡§Ü‡§≤‡•Ç)", "Mix Veg (‡§Æ‡§ø‡§ï‡•ç‡§∏ ‡§µ‡•á‡§ú)"],
                curds: ["Plain Curd (‡§¶‡§π‡•Ä)", "Boondi Raita (‡§¨‡•Ç‡§Ç‡§¶‡•Ä ‡§∞‡§æ‡§Ø‡§§‡§æ)", "Cucumber Raita (‡§ñ‡•Ä‡§∞‡§æ ‡§∞‡§æ‡§Ø‡§§‡§æ)", "Mixed Veg Raita (‡§Æ‡§ø‡§ï‡•ç‡§∏ ‡§µ‡•á‡§ú ‡§∞‡§æ‡§Ø‡§§‡§æ)"],
                snacks: ["Makhana (‡§Æ‡§ñ‡§æ‡§®‡§æ)", "Tea & Biscuits (‡§ö‡§æ‡§Ø-‡§¨‡§ø‡§∏‡•ç‡§ï‡•Å‡§ü)", "Roasted Chana (‡§≠‡•Å‡§®‡§æ ‡§ö‡§®‡§æ)", "Fruit Bowl (‡§´‡§≤‡•ã‡§Ç ‡§ï‡§æ ‡§ï‡§ü‡•ã‡§∞‡§æ)"],
                dinner_gravy: ["Paneer Butter Masala (‡§™‡§®‡•Ä‡§∞ ‡§¨‡§ü‡§∞ ‡§Æ‡§∏‡§æ‡§≤‡§æ)", "Rajma Masala (‡§∞‡§æ‡§ú‡§Æ‡§æ ‡§Æ‡§∏‡§æ‡§≤‡§æ)", "Chole (‡§õ‡•ã‡§≤‡•á)", "Kadhi Pakora (‡§ï‡§¢‡§º‡•Ä ‡§™‡§ï‡•ã‡§°‡§º‡§æ)", "Matar Paneer (‡§Æ‡§ü‡§∞ ‡§™‡§®‡•Ä‡§∞)"],
                winter_flours: ["Bajra Roti (‡§¨‡§æ‡§ú‡§∞‡§æ ‡§∞‡•ã‡§ü‡•Ä)", "Makki Roti (‡§Æ‡§ï‡•ç‡§ï‡•Ä ‡§∞‡•ã‡§ü‡•Ä)"],
                summer_flours: ["Jowar Roti (‡§ú‡•ç‡§µ‡§æ‡§∞ ‡§∞‡•ã‡§ü‡•Ä)", "Nachni Roti (‡§®‡§æ‡§ö‡§®‡•Ä ‡§∞‡•ã‡§ü‡•Ä)", "Phulka (‡§´‡•Å‡§≤‡•ç‡§ï‡§æ)"]
            };

            return {
                screen: 'menu',
                weeklyPlan: {},
                isWinter: true, // You can toggle this based on month

                generateFullMenu() {
                    const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
                    let newPlan = {};
                    days.forEach(day => {
                        newPlan[day] = this.createDayPlan();
                    });
                    this.weeklyPlan = newPlan;
                },

                createDayPlan() {
                    const flours = this.isWinter ? data.winter_flours : data.summer_flours;
                    return {
                        breakfast: this.getRandom(data.breakfast),
                        lunch: `${this.getRandom(data.lunch_main)} + Rice/Roti & ${this.getRandom(data.curds)}`,
                        snacks: this.getRandom(data.snacks),
                        dinner: `${this.getRandom(data.dinner_gravy)} with ${this.getRandom(flours)}`
                    };
                },

                getRandom(arr) {
                    return arr[Math.floor(Math.random() * arr.length)];
                },

                replaceItem(day, mealType) {
                    if (mealType === 'breakfast') this.weeklyPlan[day].breakfast = this.getRandom(data.breakfast);
                    if (mealType === 'lunch') this.weeklyPlan[day].lunch = `${this.getRandom(data.lunch_main)} + Rice/Roti & ${this.getRandom(data.curds)}`;
                    if (mealType === 'snacks') this.weeklyPlan[day].snacks = this.getRandom(data.snacks);
                    if (mealType === 'dinner') {
                        const flours = this.isWinter ? data.winter_flours : data.summer_flours;
                        this.weeklyPlan[day].dinner = `${this.getRandom(data.dinner_gravy)} with ${this.getRandom(flours)}`;
                    }
                },

                init() {
                    const month = new Date().getMonth();
                    this.isWinter = (month >= 10 || month <= 2); // Nov to Mar
                    this.generateFullMenu();
                }
            }
        }
    </script>
</body>
</html>
